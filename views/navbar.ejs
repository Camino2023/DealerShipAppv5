<!-- Move the style block outside the <nav> -->
<style>
body.container.mt-5 {
    padding-top: 130px !important;
    padding-bottom: 120px !important;
}
</style>

<nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top" style="height: 80px; padding-top: 20px; padding-bottom: 20px;">
  <div class="container-fluid">
    <a class="navbar-brand" href="/index" style="font-size: 1.75rem; font-weight: bold;">CarMart999</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="collapsibleNavbar">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0" style="font-size: 1.1rem;">
        <li class="nav-item">
          <a class="nav-link" href="/index">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/carList">View Vehicles</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/dealership/create">Add Vehicle</a>
        </li>
      </ul>
      <% var safeUser = typeof user !== 'undefined' ? user : null; if (safeUser) { %>
      <ul class="navbar-nav ms-auto" style="font-size: 1.1rem;">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="profileDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <img src="/images/default_image.png" alt="Profile" class="rounded-circle me-2" style="height:32px;width:32px;object-fit:cover;" data-bs-toggle="tooltip" data-bs-placement="bottom" title="<%= (safeUser.username || safeUser['first name']) + ' (ID: ' + safeUser.id + ')' %>">
            <span><%= safeUser.username || safeUser["first name"] %></span>
        </a>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
          <li><h6 class="dropdown-header">Username: <%= safeUser.username || safeUser["first name"] %></h6></li>
          <li><hr class="dropdown-divider"></li>
          <li><span class="dropdown-item-text">Email: <%= safeUser.email %></span></li>
          <li><span class="dropdown-item-text">Role: <%= safeUser.role %></span></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="/edit/<%= safeUser.id %>">Edit Profile</a></li>
          <li><a class="dropdown-item text-danger" href="/logout">Logout</a></li>
        </ul>
      </li>

      </ul>
      <% } else { %>
      <ul class="navbar-nav ms-auto" style="font-size: 1.1rem;">
        <li class="nav-item"><a class="nav-link" href="/login">Login</a></li>
        <li class="nav-item"><a class="nav-link" href="/register">Register</a></li>
      </ul>
      <% } %>
    </div>
  </div>
</nav>

<!-- Keep the Bootstrap CSS and JS includes unchanged -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<script>
  document.addEventListener('DOMContentLoaded', function () {
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    tooltipTriggerList.forEach(function (tooltipTriggerEl) {
      new bootstrap.Tooltip(tooltipTriggerEl);
    });
  });
</script>